<div class="experience-container" #experienceContainer>
  <h2>My Professional Experience</h2>
  <!-- Render timeline only when experiencesInView is true -->
  <div class="timeline" *ngIf="experiencesInView">
    <div *ngFor="let job of experienceList" class="timeline-item">
      <div class="timeline-dot"></div>
      <div class="timeline-content">
        <ng-container *ngIf="isMobile; else desktopCard">
          <!-- Mobile flip card with flip animation -->
          <div class="card flip-card" (click)="job.isFlipped = !job.isFlipped" [ngClass]="{'flipped': job.isFlipped}" @flipAnimation>
            <div class="card-inner">
              <div class="card-front">
                <div class="card-header">
                  <div class="company-info">            
                    <img [src]="job.logo" alt="{{ job.company }} Logo" class="company-logo" />
                    <div class="company">{{ job.company }}</div>
                  </div>
                  <div class="job-title">{{ job.title }}</div>
                  <div class="date">{{ job.dates }}</div>
                </div>
              </div>
              <div class="card-back">
                <div class="card-body">
                  <p class="description">{{ job.description }}</p>
                  <div class="skills">
                    <span *ngFor="let skill of job.skills" class="skill-tag">{{ skill }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-container>

        <ng-template #desktopCard>
          <!-- Desktop card with scale bounce animation -->
          <div class="card" @scaleBounce>
            <div class="card-header">
              <div class="company-info">            
                <img [src]="job.logo" alt="{{ job.company }} Logo" class="company-logo" />
                <div class="company">{{ job.company }}</div>
              </div>
              <div class="job-title">{{ job.title }}</div>
              <div class="date">{{ job.dates }}</div>
            </div>
            <div class="card-body">
              <p class="description">{{ job.description }}</p>
              <div class="skills">
                <span *ngFor="let skill of job.skills" class="skill-tag">{{ skill }}</span>
              </div>
            </div>
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</div>